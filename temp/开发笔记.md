TFM     ç‰ˆæœ¬: netstandard2.1
BepInEx ç‰ˆæœ¬: 5.4.23.4
Unity   ç‰ˆæœ¬: 2022.3.62.7762112
CLR     ç‰ˆæœ¬: 4.0.30319.42000

ä»æ¨¡æ¿åˆå§‹åŒ–æ’ä»¶é¡¹ç›®
dotnet new bepinex5plugin -n <é¡¹ç›®å> -T `<TFM>` -U `<Unity>`
dotnet new bepinex5plugin -n HelloWorldMod -T netstandard2.1 -U 2022.3.62.7762112

white knuckle ä½œå¼ŠæŒ‡ä»¤
cheats å¼€å¯/å…³é—­ä½œå¼Š
deathgoo-height -Infinity Massé«˜åº¦æ— é™ä½
listentityprefabs å…¨éƒ¨å®ä½“åˆ—è¡¨
spawnentity <å®ä½“å> ç”Ÿæˆå®ä½“
spawnentity item_artifact_remote ç”Ÿæˆè¿œç¨‹æ–‡ç‰©
spawnentity denizen_bloodbug_worker ç”Ÿæˆè¡€è™«
getgenerationseed æ˜¾ç¤ºå½“å‰ç§å­
setgenerationseed <ç§å­> åŠ è½½æŒ‡å®šç§å­

åœ¨å¯åŠ¨æ¸¸æˆå‰è®¾ç½®

set COMPlus_ZapDisable=1
set COMPlus_ReadyToRun=0

æ¥å£æ–‡æ¡£

```ini
/**
* @brief æ³¨å†Œä¸€ä¸ªæ§åˆ¶å°å‘½ä»¤
* @param command å‘½ä»¤åç§°
* @param callback å‘½ä»¤å›è°ƒå‡½æ•°
* @param cheat æ˜¯å¦ä¸ºä½œå¼Šå‘½ä»¤, é»˜è®¤ä¸º true
*/
CommandConsole.AddCommand(string command, Action<string[]> callback, bool cheat = true)

```

```ini
/**
* @brief å®ä¾‹åŒ–ä¸€ä¸ªæ¸¸æˆå¯¹è±¡
* @param original åŸå§‹æ¸¸æˆå¯¹è±¡
* @param position ä½ç½®
* @param rotation æ—‹è½¬
*/
Object.Instantiate<T>(T original, Vector3 position, Quaternion rotation)

```

CL_handholdå†³å®šæ˜¯å¦å¯ä»¥è¢«æŠ“ä½
UT_destroyAfterTimeå†³å®šé”€æ¯æ—¶æœº

## **1. SendType.Unreliable (0)**

**ä¸å¯é ä¼ è¾“ - ä¼šä¸¢åŒ…,ä¸ä¿è¯é¡ºåº**

**csharp**

```
// ä½¿ç”¨ç¤ºä¾‹ï¼š
SendType.Unreliable
// æˆ–è€…
SendType.Unreliable | SendType.NoNagle  // ç»„åˆä½¿ç”¨
```

**ç‰¹ç‚¹ï¼š**

* âœ… **æœ€å¿«é€Ÿåº¦** - ä¸ç­‰å¾…ç¡®è®¤,ç›´æ¥å‘é€
* âŒ **å¯èƒ½ä¸¢åŒ…** - ç½‘ç»œä¸å¥½æ—¶ä¼šä¸¢å¤±æ•°æ®
* âŒ **ä¸ä¿è¯é¡ºåº** - åå‘é€çš„å¯èƒ½å…ˆåˆ°è¾¾
* âœ… **æ”¯æŒå¤§åŒ…** - å¯ä»¥è¶…è¿‡å•ä¸ªMTU(çº¦1200å­—èŠ‚)
* âš ï¸ **ä¸¢åŒ…å°±å…¨ä¸¢** - å¤§åŒ…ä¸­ä»»ä½•éƒ¨åˆ†ä¸¢å¤±,æ•´ä¸ªåŒ…éƒ½ä¸¢å¼ƒ

**é€‚åˆï¼š**

* ç©å®¶ä½ç½®æ›´æ–°(æ¯å¸§éƒ½åœ¨å‘,ä¸¢äº†ä¹Ÿæ— æ‰€è°“)
* å®æ—¶éŸ³è§†é¢‘æ•°æ®
* ä¸éœ€è¦100%åˆ°è¾¾çš„æ•°æ®

---

## **2. SendType.Reliable (8)**

**å¯é ä¼ è¾“ - ä¿è¯é€è¾¾,ä¿è¯é¡ºåº**

**csharp**

```
// ä½¿ç”¨ç¤ºä¾‹ï¼š
SendType.Reliable
// æˆ–è€…
SendType.Reliable | SendType.NoNagle  // ç»„åˆä½¿ç”¨
```

**ç‰¹ç‚¹ï¼š**

* âœ… **ä¿è¯é€è¾¾** - è‡ªåŠ¨é‡ä¼ ç›´åˆ°å¯¹æ–¹ç¡®è®¤
* âœ… **ä¿è¯é¡ºåº** - æ¥æ”¶é¡ºåºä¸å‘é€é¡ºåºä¸€è‡´
* âš ï¸ **æœ‰å»¶è¿Ÿ** - éœ€è¦ç­‰å¾…ç¡®è®¤å’Œé‡ä¼ 
* âš ï¸ **å¯èƒ½é˜»å¡** - å¦‚æœç½‘ç»œå·®,é˜Ÿåˆ—ä¼šç§¯å‹
* âš ï¸ **ä¸æ”¯æŒNoDelay** - ä¸èƒ½ä¸NoDelayç»„åˆ

**é€‚åˆï¼š**

* ç©å®¶åŠ å…¥/ç¦»å¼€æ¶ˆæ¯
* èŠå¤©æ¶ˆæ¯
* é‡è¦æ¸¸æˆäº‹ä»¶(å¦‚æ­»äº¡ã€å¾—åˆ†)
* éœ€è¦ç¡®ä¿å¯¹æ–¹æ”¶åˆ°çš„ä»»ä½•æ•°æ®

---

## **3. SendType.NoNagle (1)**

**ç¦ç”¨Nagleç®—æ³• - ç«‹å³å‘é€,ä¸ç­‰å¾…**

**csharp**

```
// ä½¿ç”¨ç¤ºä¾‹ï¼š
SendType.Unreliable | SendType.NoNagle
// æˆ–è€…
SendType.Reliable | SendType.NoNagle
```

**Nagleç®—æ³•æ˜¯ä»€ä¹ˆï¼Ÿ**

* **ç›®çš„** ï¼šå‡å°‘å°æ•°æ®åŒ…æ•°é‡,æé«˜ç½‘ç»œæ•ˆç‡
* **åŸç†** ï¼šæ”¶é›†å°æ•°æ®,æ”’å¤Ÿä¸€ä¸ªå®Œæ•´åŒ…å†å‘é€
* **å»¶è¿Ÿ** ï¼šæœ€å¤šç­‰å¾…200ms(Nagleå®šæ—¶å™¨)

**NoNagleçš„æ•ˆæœï¼š**

**csharp**

```
// æ²¡æœ‰NoNagle(é»˜è®¤)ï¼š
å‘é€ "Hello" â†’ ç­‰å¾… â†’ ç­‰å¾…æ›´å¤šæ•°æ® â†’ 200msåå‘é€
å‘é€ "World" â†’ ç«‹å³å‘é€(å› ä¸ºä¸Šä¸€ä¸ªåŒ…å·²ç»å‘é€)

// ä½¿ç”¨NoNagleï¼š
å‘é€ "Hello" â†’ ç«‹å³å‘é€
å‘é€ "World" â†’ ç«‹å³å‘é€
```

**é€‚åˆï¼š**

* å®æ—¶æ€§è¦æ±‚é«˜çš„æ•°æ®
* ç«æŠ€æ¸¸æˆä¸­çš„ç©å®¶è¾“å…¥
* å½“ä½ çŸ¥é“æ•°æ®é‡å¾ˆå°,ä¸éœ€è¦ç­‰å¾…æ—¶

---

## **4. SendType.NoDelay (4)**

**æ— å»¶è¿Ÿæ¨¡å¼ - ä¸èƒ½ç«‹å³å‘é€å°±ä¸¢å¼ƒ**

**csharp**

```
// ä½¿ç”¨ç¤ºä¾‹ï¼š
SendType.Unreliable | SendType.NoDelay
// æˆ–è€…
SendType.Unreliable | SendType.NoDelay | SendType.NoNagle
```

**ç‰¹ç‚¹ï¼š**

* âš ï¸ **åªç”¨äºUnreliable** - ä¸èƒ½ä¸Reliableç»„åˆ
* âŒ **å¯èƒ½ä¸¢å¼ƒ** - å¦‚æœè¿æ¥æœªå°±ç»ª,ç›´æ¥ä¸¢å¼ƒ
* âœ… **æœ€å¿«å®æ—¶æ€§** - ç»å¯¹ä¸ç­‰å¾…
* ğŸ”§ **ç‰¹æ®Šåœºæ™¯** - è¿æ¥å»ºç«‹åˆæœŸæˆ–è·¯ç”±åˆ‡æ¢æ—¶

```csharp
// 1. ç©å®¶ä½ç½®æ›´æ–°(æœ€å¸¸è§)
SendType.Unreliable | SendType.NoNagle
// è§£é‡Šï¼šä¸å¯é +ç«‹å³å‘é€,é€‚åˆæ¯å¸§çš„ä½ç½®æ•°æ®

// 2. é‡è¦æ¸¸æˆäº‹ä»¶
SendType.Reliable
// è§£é‡Šï¼šå¯é ä¼ è¾“,ä¿è¯å¯¹æ–¹æ”¶åˆ°

// 3. è¶…å®æ—¶æ•°æ®(VR/AR)
SendType.Unreliable | SendType.NoDelay | SendType.NoNagle
// è§£é‡Šï¼šç»å¯¹å®æ—¶,ä¸èƒ½å‘å°±ä¸¢å¼ƒ

// 4. èŠå¤©æ¶ˆæ¯
SendType.Reliable | SendType.NoNagle
// è§£é‡Šï¼šå¯é +ç«‹å³å‘é€,èŠå¤©éœ€è¦åŠæ—¶æ€§
```
SteamManager (å…¨å±€ç”Ÿå‘½å‘¨æœŸå¯¹è±¡)
â””â”€â”€ MultiplayerCore_Injected (æˆ‘ä»¬çš„modæ ¹å¯¹è±¡)
    â”œâ”€â”€ MultiPlayerCore (ä¸»ç®¡ç†å™¨è„šæœ¬)
    â”œâ”€â”€ MPSteamworks (ç½‘ç»œç®¡ç†å™¨è„šæœ¬)
    â”œâ”€â”€ RemotePlayerManager (ç©å®¶ç®¡ç†å™¨è„šæœ¬)
    â””â”€â”€ RemotePlayers (ä¸“é—¨æ”¾è¿œç¨‹ç©å®¶å¯¹è±¡çš„æ–‡ä»¶å¤¹)
        â”œâ”€â”€ Player_1 (è¿œç¨‹ç©å®¶1)
        â”‚   â”œâ”€â”€ Model (æ¨¡å‹)
        â”‚   â”œâ”€â”€ Collider (ç¢°æ’ä½“)
        â”‚   â””â”€â”€ OtherComponents (å…¶ä»–ç»„ä»¶)
        â”œâ”€â”€ Player_2 (è¿œç¨‹ç©å®¶2)
        â””â”€â”€ Player_3 (è¿œç¨‹ç©å®¶3)